<html>
  <body>
    <button onclick="makePayment()">
      Make Payment
    </button>
  </body>
  <script>
    function makePayment() {
      if (typeof window.web3 == "undefined") {
          console.log("undefined")
      }
      window.web3.version.getNetwork((err, providerNetworkId) => {
        const contractAddr = "0xe70a91fc865b5b0f5dce9b797bd8d2e23121b431";
        const contractAbi = [
          {
            constant: false,
            inputs: [
              { name: "name", type: "string" },
              { name: "id", type: "string" },
              { name: "owner", type: "address" },
              { name: "burnPercent", type: "uint256" },
              { name: "burnDecimals", type: "uint256" }
            ],
            name: "addMerchant",
            outputs: [],
            payable: false,
            stateMutability: "nonpayable",
            type: "function",
            signature: "0x6e5b7889"
          },
          {
            constant: false,
            inputs: [
              { name: "id", type: "string" },
              { name: "newOwner", type: "address" }
            ],
            name: "changeOwner",
            outputs: [],
            payable: false,
            stateMutability: "nonpayable",
            type: "function",
            signature: "0xd8f9d144"
          },
          {
            constant: false,
            inputs: [{ name: "id", type: "string" }],
            name: "disableBurning",
            outputs: [],
            payable: false,
            stateMutability: "nonpayable",
            type: "function",
            signature: "0xe8f63576"
          },
          {
            constant: false,
            inputs: [{ name: "id", type: "string" }],
            name: "disableMerchant",
            outputs: [],
            payable: false,
            stateMutability: "nonpayable",
            type: "function",
            signature: "0x4d2b3e3c"
          },
          {
            constant: false,
            inputs: [{ name: "id", type: "string" }],
            name: "enableBurning",
            outputs: [],
            payable: false,
            stateMutability: "nonpayable",
            type: "function",
            signature: "0x72cef6ea"
          },
          {
            constant: false,
            inputs: [{ name: "id", type: "string" }],
            name: "enableMerchant",
            outputs: [],
            payable: false,
            stateMutability: "nonpayable",
            type: "function",
            signature: "0xebf4e343"
          },
          {
            constant: false,
            inputs: [
              { name: "merchantId", type: "string" },
              { name: "purpose", type: "string" }
            ],
            name: "makePayment",
            outputs: [],
            payable: true,
            stateMutability: "payable",
            type: "function",
            signature: "0xba9b92f8"
          },
          {
            constant: false,
            inputs: [
              { name: "id", type: "string" },
              { name: "burnPercent", type: "uint256" },
              { name: "burnDecimals", type: "uint256" }
            ],
            name: "setBurnPercent",
            outputs: [],
            payable: false,
            stateMutability: "nonpayable",
            type: "function",
            signature: "0xb819a66c"
          },
          {
            constant: false,
            inputs: [{ name: "newOwner", type: "address" }],
            name: "transferOwnership",
            outputs: [],
            payable: false,
            stateMutability: "nonpayable",
            type: "function",
            signature: "0xf2fde38b"
          },
          {
            anonymous: false,
            inputs: [
              { indexed: false, name: "name", type: "string" },
              { indexed: false, name: "id", type: "string" },
              { indexed: false, name: "owner", type: "address" },
              { indexed: false, name: "burnPercent", type: "uint256" },
              { indexed: false, name: "burnDecimals", type: "uint256" }
            ],
            name: "NewMerchant",
            type: "event",
            signature:
              "0xfa294f8338f0a95b4515e78c78913e1e74cdce17cef82e5b6dd8df1279deb493"
          },
          {
            anonymous: false,
            inputs: [
              { indexed: false, name: "merchantId", type: "string" },
              { indexed: false, name: "sender", type: "address" },
              { indexed: false, name: "to", type: "address" },
              { indexed: false, name: "totalValue", type: "uint256" },
              { indexed: false, name: "tokenTransfered", type: "uint256" },
              { indexed: false, name: "tokenBurnt", type: "uint256" },
              { indexed: false, name: "purpose", type: "string" },
              { indexed: false, name: "burnActive", type: "bool" },
              { indexed: false, name: "burnPercent", type: "uint256" },
              { indexed: false, name: "burnDecimals", type: "uint256" }
            ],
            name: "NewPayment",
            type: "event",
            signature:
              "0xc7fb32244f748bbeacea10a6c97f3609c699f25e284463dd89ec0eab2507d9dc"
          },
          {
            anonymous: false,
            inputs: [
              { indexed: false, name: "merchantId", type: "string" },
              { indexed: false, name: "owner", type: "address" },
              { indexed: false, name: "newOwner", type: "address" }
            ],
            name: "MerchantOwnerChanged",
            type: "event",
            signature:
              "0x35e66c820d4ffdf070fc755919adb5432480ce8a55119c619be803b042e85b22"
          },
          {
            anonymous: false,
            inputs: [
              { indexed: true, name: "previousOwner", type: "address" },
              { indexed: true, name: "newOwner", type: "address" }
            ],
            name: "OwnershipTransferred",
            type: "event",
            signature:
              "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0"
          },
          {
            constant: true,
            inputs: [{ name: "", type: "uint256" }],
            name: "allMerchants",
            outputs: [
              { name: "name", type: "string" },
              { name: "id", type: "string" },
              { name: "owner", type: "address" },
              { name: "status", type: "bool" },
              { name: "burnActive", type: "bool" },
              { name: "burnPercent", type: "uint256" },
              { name: "burnDecimals", type: "uint256" }
            ],
            payable: false,
            stateMutability: "view",
            type: "function",
            signature: "0xa48763b4"
          },
          {
            constant: true,
            inputs: [{ name: "id", type: "string" }],
            name: "getMerchantData",
            outputs: [
              { name: "", type: "string" },
              { name: "", type: "string" },
              { name: "", type: "address" },
              { name: "", type: "bool" },
              { name: "", type: "bool" },
              { name: "", type: "uint256" },
              { name: "", type: "uint256" }
            ],
            payable: false,
            stateMutability: "view",
            type: "function",
            signature: "0x8dd41760"
          },
          {
            constant: true,
            inputs: [{ name: "id", type: "string" }],
            name: "getMerchantFromId",
            outputs: [
              { name: "", type: "bool" },
              { name: "", type: "uint256" }
            ],
            payable: false,
            stateMutability: "view",
            type: "function",
            signature: "0x51addb01"
          },
          {
            constant: true,
            inputs: [],
            name: "isOwner",
            outputs: [{ name: "", type: "bool" }],
            payable: false,
            stateMutability: "view",
            type: "function",
            signature: "0x8f32d59b"
          },
          {
            constant: true,
            inputs: [],
            name: "owner",
            outputs: [{ name: "", type: "address" }],
            payable: false,
            stateMutability: "view",
            type: "function",
            signature: "0x8da5cb5b"
          }
        ];
        let contractAbiInst = window.web3.eth.contract(contractAbi);
        let contractInst = contractAbiInst.at(contractAddr);
        const tx = {
          to: "0xe70a91fc865b5b0f5dce9b797bd8d2e23121b431",
          gasLimit:2000000,
          value:1000000000000000000000
        };
        contractInst.makePayment.sendTransaction(
          "bdfe9c5a-99d7-450f-a284-afdd2f4f65e0",
          "test",
          tx,
          (err, result) => {
            console.log(err, result);
          }
        );
      });
    }
  </script>
</html>
